<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fitness Tracker PWA</title>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <!-- Styles -->
  <link rel="stylesheet" href="styles.css">

  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
</head>
<body>

  <!-- HEADER -->
  <header>
    <h1>ğŸ‹ï¸ Fitness Tracker</h1>
    <button id="themeToggle">ğŸŒ™</button>
    <button id="lockBtn">ğŸ”</button>
    <button id="resetBtn">ğŸ—‘ï¸</button>
  </header>

  <!-- PIN LOCK OVERLAY -->
  <div id="pinOverlay">
    <div class="pinBox">
      <h2>ğŸ”’ Enter PIN</h2>
      <input type="password" id="pinInput" maxlength="4" inputmode="numeric" placeholder="â€¢â€¢â€¢â€¢"/>
      <button id="pinBtn">Set PIN</button>
      <p id="pinMsg"></p>
    </div>
  </div>

  <!-- MAIN CONTENT -->
  <main>
    <!-- FORM -->
    <form id="progressForm">
      <input type="date" id="date" required>
      <input type="number" step="0.1" id="weight" placeholder="Weight (kg)" required>
      <input type="number" step="0.1" id="fat" placeholder="Body Fat (%)">
      <input type="number" step="0.1" id="water" placeholder="Water (%)">
      <input type="number" step="0.01" id="height" placeholder="Height (m)">
      <textarea id="notes" placeholder="Notes..."></textarea>
      <button type="submit">ğŸ’¾ Save Progress</button>
    </form>

    <!-- BMI DISPLAY -->
    <div id="bmiBox"></div>

    <!-- CHART -->
    <section id="chartSection">
      <canvas id="weightChart"></canvas>
    </section>

    <!-- RECORD LIST -->
    <ul id="recordList"></ul>
  </main>

  <!-- Scripts in proper order -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sql.js/1.8.0/sql-wasm.js"></script>
  <script src="db.js"></script>  <!-- initializes db and window.dbReady -->
  <script src="app.js"></script> <!-- app logic that uses db -->

</body>
</html>
